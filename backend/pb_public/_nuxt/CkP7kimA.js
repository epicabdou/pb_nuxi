import{u as ce,r as d,h as ge,g as B,j as X,c as l,b as u,w as S,B as c,o,a as t,t as i,n as g,v as k,F as f,l as h,C as Y,k as U,p as G,T as K,m as O,G as R,d as V,E as pe,H}from"./DzVV_QxS.js";import{c as m,P as be,X as W}from"./DZiDs0aQ.js";/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=m("CircleAlertIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=m("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=m("LoaderIcon",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=m("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=m("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=m("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=m("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-vue-next v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=m("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),we={class:"min-h-screen bg-background-100 dark:bg-background-900"},_e={class:"flex justify-between items-center"},Pe={key:0,class:"flex justify-center items-center py-20"},Ce={key:1,class:"bg-error-50 dark:bg-error-900/20 border border-error-200 dark:border-error-800 rounded-lg p-4 my-6"},De={class:"flex"},Ue={class:"text-error-700 dark:text-error-400"},Fe={key:2,class:"bg-white dark:bg-background-800 rounded-xl p-8 shadow-soft text-center my-8"},Me={key:3},Le={class:"bg-white dark:bg-background-800 rounded-xl p-4 shadow-soft mb-6"},Ie={class:"flex flex-col md:flex-row gap-4"},$e={class:"flex-1"},je={class:"input-group"},Se={class:"flex gap-4"},Ve=["value"],Ae={class:"bg-white dark:bg-background-800 rounded-xl shadow-soft overflow-hidden"},Ne={class:"overflow-x-auto"},Ee={class:"w-full"},Te={class:"divide-y divide-background-200 dark:divide-background-700"},qe={class:"px-6 py-4 whitespace-nowrap"},ze={class:"h-12 w-12 rounded-md overflow-hidden bg-background-200 dark:bg-background-700"},Be=["src","alt"],Ge={key:1,class:"h-full w-full flex items-center justify-center"},Oe={class:"px-6 py-4 whitespace-nowrap"},Re={class:"font-medium text-background-900 dark:text-white"},He={class:"text-sm text-background-500"},Je={class:"px-6 py-4 whitespace-nowrap"},Ze={class:"text-background-900 dark:text-white"},Qe={key:0,class:"text-sm text-success-600 dark:text-success-400"},Xe={class:"px-6 py-4 whitespace-nowrap"},Ye={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"flex flex-wrap gap-2"},We={class:"px-6 py-4 whitespace-nowrap"},et={class:"px-6 py-4 whitespace-nowrap"},tt={class:"flex space-x-2"},at=["onClick"],st=["onClick"],rt={class:"px-6 py-4 bg-background-50 dark:bg-background-800/70 border-t border-background-200 dark:border-background-700 flex justify-between items-center"},lt={class:"text-sm text-background-600 dark:text-background-400"},ot={class:"flex space-x-2"},nt=["disabled"],dt=["onClick"],it=["disabled"],ut={key:0,class:"fixed inset-0 bg-background-900/80 dark:bg-background-950/80 backdrop-blur-sm z-50 flex justify-center items-center p-4"},ct={class:"p-6 border-b border-background-200 dark:border-background-700 flex justify-between items-center"},gt={class:"heading-4"},pt={class:"space-y-4"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vt={class:"space-y-4 pt-2"},kt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},mt={class:"input-group"},xt={class:"input-group"},yt={class:"flex items-center"},ft={class:"space-y-4 pt-2"},ht={class:"space-y-2"},wt={key:0,class:"text-sm text-background-600 dark:text-background-400"},_t={key:1,class:"grid grid-cols-2 md:grid-cols-3 gap-2"},Pt=["id","onUpdate:modelValue","value"],Ct=["for"],Dt={class:"space-y-2"},Ut={key:0,class:"text-sm text-background-600 dark:text-background-400"},Ft={key:1,class:"grid grid-cols-2 md:grid-cols-3 gap-2"},Mt=["id","value"],Lt=["for"],It={class:"space-y-4 pt-2"},$t={class:"border border-dashed border-background-300 dark:border-background-600 rounded-lg p-4"},jt={key:0,class:"mb-4"},St=["src"],Vt={class:"flex justify-center"},At={class:"btn-secondary cursor-pointer"},Nt={class:"border border-dashed border-background-300 dark:border-background-600 rounded-lg p-4"},Et={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},Tt=["src"],qt=["onClick"],zt={class:"flex justify-center"},Bt={class:"btn-secondary cursor-pointer"},Gt={class:"flex justify-end space-x-3 pt-4 border-t border-background-200 dark:border-background-700"},Ot=["disabled"],Rt={key:0},Ht={key:1},Jt={key:0,class:"fixed inset-0 bg-background-900/80 dark:bg-background-950/80 backdrop-blur-sm z-50 flex justify-center items-center p-4"},Zt={class:"p-6 flex flex-col items-center text-center"},Qt={class:"bg-error-100 dark:bg-error-900/20 p-3 rounded-full mb-4"},Xt={class:"text-background-600 dark:text-background-400 mb-6"},Yt={class:"font-semibold text-background-800 dark:text-background-200"},Kt={class:"flex gap-3 w-full"},Wt=["disabled"],ea={key:0},ta={key:1},J=10,la={__name:"products",setup(aa){const te=pe({setup(s,{slots:e}){return()=>{var a,n;return H("div",{},[H("div",{class:"p-6"},(a=e.header)==null?void 0:a.call(e)),H("div",{class:"p-6"},(n=e.default)==null?void 0:n.call(e))])}}}),{$pb:b}=ce(),P=d([]),C=d([]),A=d([]),N=d(!0),E=d(null),F=d(""),M=d(""),T=d("name_asc"),p=d(1),D=d(!1),L=d(!1),r=d({name:"",slug:"",shortDescription:"",longDescription:"",price:0,promoPrice:null,stock:null,isFeatured:!1,category:[],tags:[],image:null,gallery:[]}),w=d(null),I=d(!1),$=d(!1);function q(s=null){s?(r.value={id:s.id,name:s.name,slug:s.slug,shortDescription:s.shortDescription,longDescription:s.longDescription,price:s.price,promoPrice:s.promoPrice,stock:s.stock,isFeatured:s.isFeatured,category:[...s.category],tags:[...s.tags]},_.value=s.imageUrl,v.value=[...s.galleryUrls]):(r.value={name:"",slug:"",shortDescription:"",longDescription:"",price:0,promoPrice:null,stock:null,isFeatured:!1,category:[],tags:[],image:null,gallery:[]},_.value=null,v.value=[],j.value=null,x.value=[]),D.value=!0}function ae(s){w.value=s,L.value=!0}const _=d(null),v=d([]),j=d(null),x=d([]);function se(s){const e=s.target.files[0];e&&(j.value=e,_.value=URL.createObjectURL(e))}function re(s){const e=Array.from(s.target.files);if(!e.length)return;x.value=[...x.value,...e];const a=e.map(n=>URL.createObjectURL(n));v.value=[...v.value,...a]}function le(s){s<v.value.length&&v.value.splice(s,1),s<x.value.length&&x.value.splice(s,1)}ge(async()=>{try{N.value=!0,await Promise.all([Z(),ne(),de()])}catch(s){console.error("Error loading initial data:",s),E.value="Failed to load data. Please try refreshing the page."}finally{N.value=!1}});const y=B(()=>{let s=[...P.value];if(F.value){const e=F.value.toLowerCase();s=s.filter(a=>a.name.toLowerCase().includes(e)||a.shortDescription.toLowerCase().includes(e)||a.slug.toLowerCase().includes(e))}switch(M.value&&(s=s.filter(e=>e.category&&e.category.includes(M.value))),T.value){case"name_asc":s.sort((e,a)=>e.name.localeCompare(a.name));break;case"name_desc":s.sort((e,a)=>a.name.localeCompare(e.name));break;case"price_asc":s.sort((e,a)=>e.price-a.price);break;case"price_desc":s.sort((e,a)=>a.price-e.price);break;case"created_desc":s.sort((e,a)=>new Date(a.created)-new Date(e.created));break;case"created_asc":s.sort((e,a)=>new Date(e.created)-new Date(a.created));break}return s});B(()=>{const s=(p.value-1)*J;return y.value.slice(s,s+J)});const z=B(()=>Math.ceil(y.value.length/J)||1);function oe(s){const e=C.value.find(a=>a.id===s);return e?e.name:"Unknown"}X(y,()=>{p.value>z.value&&(p.value=1)}),X(()=>r.value.name,s=>{s&&!r.value.id&&(r.value.slug=s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))});async function Z(){try{const s=await b.collection("products").getList(1,100,{expand:"category,tags"});P.value=s.items.map(e=>{const a=e.image?b.files.getUrl(e,e.image):null,n=e.gallery?e.gallery.map(Q=>b.files.getUrl(e,Q)):[];return{...e,imageUrl:a,galleryUrls:n}})}catch(s){throw console.error("Error loading products:",s),new Error("Failed to load products")}}async function ne(){try{const s=await b.collection("categories").getList(1,100);C.value=s.items}catch(s){throw console.error("Error loading categories:",s),new Error("Failed to load categories")}}async function de(){try{const s=await b.collection("tags").getList(1,100);A.value=s.items}catch(s){throw console.error("Error loading tags:",s),new Error("Failed to load tags")}}async function ie(){I.value=!0;try{const s=new FormData;s.append("name",r.value.name),s.append("slug",r.value.slug),s.append("shortDescription",r.value.shortDescription),s.append("longDescription",r.value.longDescription||""),s.append("price",r.value.price),r.value.promoPrice!==null&&s.append("promoPrice",r.value.promoPrice),r.value.stock!==null&&s.append("stock",r.value.stock),s.append("isFeatured",r.value.isFeatured),s.append("category",JSON.stringify(r.value.category)),s.append("tags",JSON.stringify(r.value.tags)),j.value&&s.append("image",j.value),x.value.length>0&&x.value.forEach(a=>{s.append("gallery",a)});let e;r.value.id?e=await b.collection("products").update(r.value.id,s):e=await b.collection("products").create(s),await Z(),D.value=!1,alert(r.value.id?"Product updated successfully!":"Product created successfully!")}catch(s){console.error("Error saving product:",s),alert(`Error: ${s.message}`)}finally{I.value=!1}}async function ue(){if(w.value){$.value=!0;try{await b.collection("products").delete(w.value.id),P.value=P.value.filter(s=>s.id!==w.value.id),L.value=!1,w.value=null,alert("Product deleted successfully!")}catch(s){console.error("Error deleting product:",s),alert(`Error: ${s.message}`)}finally{$.value=!1}}}return(s,e)=>(o(),l("div",we,[u(c(te),null,{header:S(()=>[t("div",_e,[e[22]||(e[22]=t("h1",{class:"heading-3"},"Product Management",-1)),t("button",{onClick:e[0]||(e[0]=a=>q()),class:"btn-primary btn-icon-text"},[u(c(xe),{class:"w-5 h-5"}),e[21]||(e[21]=t("span",null,"Add Product",-1))])])]),default:S(()=>[N.value?(o(),l("div",Pe,e[23]||(e[23]=[t("div",{class:"flex flex-col items-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),t("p",{class:"mt-4 text-background-700 dark:text-background-300"},"Loading products...")],-1)]))):E.value?(o(),l("div",Ce,[t("div",De,[u(c(ve),{class:"h-5 w-5 text-error-500 mr-3"}),t("p",Ue,i(E.value),1)])])):P.value.length===0?(o(),l("div",Fe,[u(c(be),{class:"h-16 w-16 text-background-400 mx-auto mb-4"}),e[24]||(e[24]=t("h3",{class:"heading-4 mb-2"},"No products yet",-1)),e[25]||(e[25]=t("p",{class:"text-background-600 dark:text-background-400 mb-6"},"Get started by adding your first product",-1)),t("button",{onClick:e[1]||(e[1]=a=>q()),class:"btn-primary"}," Add Your First Product ")])):(o(),l("div",Me,[t("div",Le,[t("div",Ie,[t("div",$e,[t("div",je,[u(c(ye),{class:"absolute left-3 top-3 h-5 w-5 text-background-500"}),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>F.value=a),type:"text",placeholder:"Search products...",class:"input-primary input-icon"},null,512),[[k,F.value]])])]),t("div",Se,[g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>M.value=a),class:"select"},[e[26]||(e[26]=t("option",{value:""},"All Categories",-1)),(o(!0),l(f,null,h(C.value,a=>(o(),l("option",{key:a.id,value:a.id},i(a.name),9,Ve))),128))],512),[[Y,M.value]]),g(t("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>T.value=a),class:"select"},e[27]||(e[27]=[t("option",{value:"name_asc"},"Name (A-Z)",-1),t("option",{value:"name_desc"},"Name (Z-A)",-1),t("option",{value:"price_asc"},"Price (Low-High)",-1),t("option",{value:"price_desc"},"Price (High-Low)",-1),t("option",{value:"created_desc"},"Newest First",-1),t("option",{value:"created_asc"},"Oldest First",-1)]),512),[[Y,T.value]])])])]),t("div",Ae,[t("div",Ne,[t("table",Ee,[e[28]||(e[28]=t("thead",{class:"bg-background-100 dark:bg-background-700 border-b border-background-200 dark:border-background-600"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Image "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Name "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Price "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Stock "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Categories "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-background-700 dark:text-background-300 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",Te,[(o(!0),l(f,null,h(y.value,a=>(o(),l("tr",{key:a.id,class:"hover:bg-background-50 dark:hover:bg-background-800/70"},[t("td",qe,[t("div",ze,[a.imageUrl?(o(),l("img",{key:0,src:a.imageUrl,alt:a.name,class:"h-full w-full object-cover"},null,8,Be)):(o(),l("div",Ge,[u(c(ke),{class:"h-6 w-6 text-background-400"})]))])]),t("td",Oe,[t("div",Re,i(a.name),1),t("div",He,i(a.slug),1)]),t("td",Je,[t("div",Ze,"$"+i(a.price.toFixed(2)),1),a.promoPrice?(o(),l("div",Qe," Sale: $"+i(a.promoPrice.toFixed(2)),1)):U("",!0)]),t("td",Xe,[t("span",{class:G({"text-error-600 dark:text-error-400":a.stock===0,"text-warning-600 dark:text-warning-400":a.stock>0&&a.stock<10,"text-success-600 dark:text-success-400":a.stock>=10})},i(a.stock??"Unlimited"),3)]),t("td",Ye,[t("div",Ke,[(o(!0),l(f,null,h(a.category,n=>(o(),l("span",{key:n,class:"badge-outline-primary text-xs"},i(oe(n)),1))),128))])]),t("td",We,[t("span",{class:G(["badge",{"bg-success-100 text-success-800 dark:bg-success-900/20 dark:text-success-400":a.isFeatured,"bg-background-100 text-background-800 dark:bg-background-800 dark:text-background-400":!a.isFeatured}])},i(a.isFeatured?"Featured":"Standard"),3)]),t("td",et,[t("div",tt,[t("button",{onClick:n=>q(a),class:"p-1.5 rounded-lg text-background-600 hover:text-background-900 dark:text-background-400 dark:hover:text-background-100 hover:bg-background-200 dark:hover:bg-background-700"},[u(c(me),{class:"h-4 w-4"})],8,at),t("button",{onClick:n=>ae(a),class:"p-1.5 rounded-lg text-background-600 hover:text-error-600 dark:text-background-400 dark:hover:text-error-400 hover:bg-background-200 dark:hover:bg-background-700"},[u(c(fe),{class:"h-4 w-4"})],8,st)])])]))),128))])])]),t("div",rt,[t("div",lt," Showing "+i(Math.min(1,y.value.length))+" to "+i(y.value.length)+" of "+i(y.value.length)+" products ",1),t("div",ot,[t("button",{class:"btn-ghost btn-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:p.value===1,onClick:e[5]||(e[5]=a=>p.value--)}," Previous ",8,nt),(o(!0),l(f,null,h(z.value,a=>(o(),l("button",{key:a,onClick:n=>p.value=a,class:G(["px-3 py-1 rounded-md",{"bg-primary-500 text-white":p.value===a,"hover:bg-background-200 dark:hover:bg-background-700":p.value!==a}])},i(a),11,dt))),128)),t("button",{class:"btn-ghost btn-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:p.value===z.value,onClick:e[6]||(e[6]=a=>p.value++)}," Next ",8,it)])])])])),u(K,{name:"fade"},{default:S(()=>[D.value?(o(),l("div",ut,[t("div",{class:"bg-white dark:bg-background-800 rounded-2xl shadow-elevated w-full max-w-3xl max-h-[90vh] overflow-auto animate-slide-up",onClick:e[18]||(e[18]=O(()=>{},["stop"]))},[t("div",ct,[t("h2",gt,i(r.value.id?"Edit Product":"Add New Product"),1),t("button",{onClick:e[7]||(e[7]=a=>D.value=!1),class:"p-1.5 rounded-lg hover:bg-background-200 dark:hover:bg-background-700"},[u(c(W),{class:"h-5 w-5 text-background-600 dark:text-background-400"})])]),t("form",{onSubmit:O(ie,["prevent"]),class:"p-6 space-y-6"},[t("div",pt,[e[34]||(e[34]=t("h3",{class:"heading-5 text-background-800 dark:text-background-200"},"Basic Information",-1)),t("div",bt,[t("div",null,[e[29]||(e[29]=t("label",{for:"name",class:"input-label"},"Product Name*",-1)),g(t("input",{id:"name","onUpdate:modelValue":e[8]||(e[8]=a=>r.value.name=a),type:"text",required:"",class:"input-primary",placeholder:"Enter product name"},null,512),[[k,r.value.name]])]),t("div",null,[e[30]||(e[30]=t("label",{for:"slug",class:"input-label"},"Slug*",-1)),g(t("input",{id:"slug","onUpdate:modelValue":e[9]||(e[9]=a=>r.value.slug=a),type:"text",required:"",class:"input-primary",placeholder:"product-slug"},null,512),[[k,r.value.slug]]),e[31]||(e[31]=t("p",{class:"input-help"},"Must be unique, used in URL",-1))])]),t("div",null,[e[32]||(e[32]=t("label",{for:"shortDescription",class:"input-label"},"Short Description*",-1)),g(t("textarea",{id:"shortDescription","onUpdate:modelValue":e[10]||(e[10]=a=>r.value.shortDescription=a),rows:"2",required:"",class:"input-primary",placeholder:"Brief product description"},null,512),[[k,r.value.shortDescription]])]),t("div",null,[e[33]||(e[33]=t("label",{for:"longDescription",class:"input-label"},"Long Description",-1)),g(t("textarea",{id:"longDescription","onUpdate:modelValue":e[11]||(e[11]=a=>r.value.longDescription=a),rows:"4",class:"input-primary",placeholder:"Detailed product description"},null,512),[[k,r.value.longDescription]])])]),t("div",vt,[e[41]||(e[41]=t("h3",{class:"heading-5 text-background-800 dark:text-background-200"},"Pricing & Inventory",-1)),t("div",kt,[t("div",null,[e[36]||(e[36]=t("label",{for:"price",class:"input-label"},"Price*",-1)),t("div",mt,[e[35]||(e[35]=t("span",{class:"absolute left-3 top-3 text-background-600 dark:text-background-400"},"$",-1)),g(t("input",{id:"price","onUpdate:modelValue":e[12]||(e[12]=a=>r.value.price=a),type:"number",step:"0.01",min:"0",required:"",class:"input-primary pl-8",placeholder:"0.00"},null,512),[[k,r.value.price,void 0,{number:!0}]])])]),t("div",null,[e[38]||(e[38]=t("label",{for:"promoPrice",class:"input-label"},"Sale Price",-1)),t("div",xt,[e[37]||(e[37]=t("span",{class:"absolute left-3 top-3 text-background-600 dark:text-background-400"},"$",-1)),g(t("input",{id:"promoPrice","onUpdate:modelValue":e[13]||(e[13]=a=>r.value.promoPrice=a),type:"number",step:"0.01",min:"0",class:"input-primary pl-8",placeholder:"0.00"},null,512),[[k,r.value.promoPrice,void 0,{number:!0}]])])]),t("div",null,[e[39]||(e[39]=t("label",{for:"stock",class:"input-label"},"Stock",-1)),g(t("input",{id:"stock","onUpdate:modelValue":e[14]||(e[14]=a=>r.value.stock=a),type:"number",min:"0",class:"input-primary",placeholder:"Leave blank for unlimited"},null,512),[[k,r.value.stock,void 0,{number:!0}]])])]),t("div",yt,[g(t("input",{id:"isFeatured","onUpdate:modelValue":e[15]||(e[15]=a=>r.value.isFeatured=a),type:"checkbox",class:"checkbox"},null,512),[[R,r.value.isFeatured]]),e[40]||(e[40]=t("label",{for:"isFeatured",class:"ml-2 text-background-700 dark:text-background-300"}," Featured Product ",-1))])]),t("div",ft,[e[44]||(e[44]=t("h3",{class:"heading-5 text-background-800 dark:text-background-200"},"Categories & Tags",-1)),t("div",null,[e[42]||(e[42]=t("label",{class:"input-label"},"Categories*",-1)),t("div",ht,[C.value.length===0?(o(),l("div",wt," No categories available. Please create categories first. ")):(o(),l("div",_t,[(o(!0),l(f,null,h(C.value,a=>(o(),l("div",{key:a.id,class:"flex items-center"},[g(t("input",{id:`category-${a.id}`,"onUpdate:modelValue":n=>r.value.category=n,value:a.id,type:"checkbox",class:"checkbox"},null,8,Pt),[[R,r.value.category]]),t("label",{for:`category-${a.id}`,class:"ml-2 text-background-700 dark:text-background-300"},i(a.name),9,Ct)]))),128))]))])]),t("div",null,[e[43]||(e[43]=t("label",{class:"input-label"},"Tags*",-1)),t("div",Dt,[A.value.length===0?(o(),l("div",Ut," No tags available. Please create tags first. ")):(o(),l("div",Ft,[(o(!0),l(f,null,h(A.value,a=>(o(),l("div",{key:a.id,class:"flex items-center"},[g(t("input",{id:`tag-${a.id}`,"onUpdate:modelValue":e[16]||(e[16]=n=>r.value.tags=n),value:a.id,type:"checkbox",class:"checkbox"},null,8,Mt),[[R,r.value.tags]]),t("label",{for:`tag-${a.id}`,class:"ml-2 text-background-700 dark:text-background-300"},i(a.name),9,Lt)]))),128))]))])])]),t("div",It,[e[48]||(e[48]=t("h3",{class:"heading-5 text-background-800 dark:text-background-200"},"Images",-1)),t("div",null,[e[45]||(e[45]=t("label",{class:"input-label"},"Main Image*",-1)),t("div",$t,[_.value?(o(),l("div",jt,[t("img",{src:_.value,alt:"Main image preview",class:"h-40 object-contain mx-auto"},null,8,St)])):U("",!0),t("div",Vt,[t("label",At,[t("span",null,i(_.value?"Change Image":"Select Image"),1),t("input",{type:"file",accept:"image/*",class:"hidden",onChange:se},null,32)])])])]),t("div",null,[e[47]||(e[47]=t("label",{class:"input-label"},"Gallery Images*",-1)),t("div",Nt,[v.value.length>0?(o(),l("div",Et,[(o(!0),l(f,null,h(v.value,(a,n)=>(o(),l("div",{key:n,class:"relative"},[t("img",{src:a,alt:"Gallery image preview",class:"h-24 w-full object-cover rounded-lg"},null,8,Tt),t("button",{type:"button",onClick:Q=>le(n),class:"absolute top-1 right-1 bg-error-500 text-white rounded-full p-1 hover:bg-error-600"},[u(c(W),{class:"h-3 w-3"})],8,qt)]))),128))])):U("",!0),t("div",zt,[t("label",Bt,[e[46]||(e[46]=t("span",null,"Add Gallery Images",-1)),t("input",{type:"file",accept:"image/*",multiple:"",class:"hidden",onChange:re},null,32)])])])])]),t("div",Gt,[t("button",{type:"button",onClick:e[17]||(e[17]=a=>D.value=!1),class:"btn-secondary"}," Cancel "),t("button",{type:"submit",class:"btn-primary",disabled:I.value},[I.value?(o(),l("span",Rt,[u(c(ee),{class:"animate-spin h-4 w-4 mr-2"}),e[49]||(e[49]=V(" Saving... "))])):(o(),l("span",Ht,i(r.value.id?"Update Product":"Create Product"),1))],8,Ot)])],32)])])):U("",!0)]),_:1}),u(K,{name:"fade"},{default:S(()=>{var a;return[L.value?(o(),l("div",Jt,[t("div",{class:"bg-white dark:bg-background-800 rounded-2xl shadow-elevated w-full max-w-md animate-slide-up",onClick:e[20]||(e[20]=O(()=>{},["stop"]))},[t("div",Zt,[t("div",Qt,[u(c(he),{class:"h-8 w-8 text-error-500"})]),e[53]||(e[53]=t("h2",{class:"heading-4 mb-2"},"Delete Product",-1)),t("p",Xt,[e[50]||(e[50]=V(" Are you sure you want to delete ")),t("span",Yt,i((a=w.value)==null?void 0:a.name),1),e[51]||(e[51]=V("? This action cannot be undone. "))]),t("div",Kt,[t("button",{onClick:e[19]||(e[19]=n=>L.value=!1),class:"btn-secondary flex-1"}," Cancel "),t("button",{onClick:ue,class:"btn-primary bg-error-500 hover:bg-error-600 focus:ring-error-500 flex-1",disabled:$.value},[$.value?(o(),l("span",ea,[u(c(ee),{class:"animate-spin h-4 w-4 mr-2"}),e[52]||(e[52]=V(" Deleting... "))])):(o(),l("span",ta,"Delete"))],8,Wt)])])])])):U("",!0)]}),_:1})]),_:1})]))}};export{la as default};
