import{_ as $e}from"./CYKZh6Wd.js";import{r as u,j as le,h as re,z as ne,o as l,c as r,k as x,a as e,t as n,p as m,P as Ce,u as ie,Q as Le,e as Me,g as E,b as I,y as Pe,w as B,F as f,l as w,n as te,v as se,d as A,B as ae,m as Te,s as oe,I as Se}from"./DzVV_QxS.js";import{u as Ae}from"./WUHYirRz.js";import{u as ze}from"./9jvVpD2D.js";const Ie={key:0,class:"fixed top-20 right-4 z-50 max-w-sm"},Ue={class:"flex items-start"},Be={key:0,class:"flex-shrink-0"},Re={key:1,class:"flex-shrink-0"},Fe={key:2,class:"flex-shrink-0"},je={class:"ml-3"},De={key:0,class:"text-sm font-medium leading-5"},Ne={class:"mt-1"},qe={class:"text-sm leading-5"},He={class:"ml-auto pl-3"},Ee={class:"-mx-1.5 -my-1.5"},Ve={__name:"ToastNotification",props:{type:{type:String,default:"success",validator:d=>["success","error","info","warning"].includes(d)},message:{type:String,required:!0},title:{type:String,default:""},duration:{type:Number,default:5e3},show:{type:Boolean,default:!1}},emits:["close"],setup(d,{emit:g}){const i=d,c=g,b=u(i.show);let s=null;const v=()=>{b.value=!1,c("close"),s&&clearTimeout(s)};return le(()=>i.show,P=>{b.value=P,P&&i.duration>0&&(s&&clearTimeout(s),s=setTimeout(()=>{v()},i.duration))}),re(()=>{i.show&&i.duration>0&&(s=setTimeout(()=>{v()},i.duration))}),(P,h)=>(l(),ne(Ce,{to:"body"},[b.value?(l(),r("div",Ie,[e("div",{class:m(["p-4 rounded-lg shadow-md transition-all duration-300 transform",`bg-${d.type}-100 border-l-4 border-${d.type}-500 text-${d.type}-800`,b.value?"translate-y-0 opacity-100":"translate-y-4 opacity-0"])},[e("div",Ue,[d.type==="success"?(l(),r("div",Be,h[0]||(h[0]=[e("svg",{class:"w-5 h-5 text-success-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):d.type==="error"?(l(),r("div",Re,h[1]||(h[1]=[e("svg",{class:"w-5 h-5 text-error-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)]))):d.type==="info"?(l(),r("div",Fe,h[2]||(h[2]=[e("svg",{class:"w-5 h-5 text-secondary-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)]))):x("",!0),e("div",je,[d.title?(l(),r("h3",De,n(d.title),1)):x("",!0),e("div",Ne,[e("p",qe,n(d.message),1)])]),e("div",He,[e("div",Ee,[e("button",{onClick:v,class:m(["inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2",`text-${d.type}-500 hover:bg-${d.type}-100 focus:ring-${d.type}-500`])},h[3]||(h[3]=[e("span",{class:"sr-only"},"Dismiss",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2)])])])],2)])):x("",!0)]))}},We={__name:"ProductMeta",props:{product:{type:Object,required:!0}},setup(d){const g=d;return ze(()=>{const i=g.product.name,c=g.product.shortDescription,b=g.product.image?`${ie().$pb.baseUrl}/api/files/${g.product.collectionId}/${g.product.id}/${g.product.image}`:null,s=g.product.promoPrice||g.product.price;return{title:i,meta:[{name:"description",content:c},{property:"og:type",content:"product"},{property:"og:title",content:i},{property:"og:description",content:c},{property:"og:image",content:b},{property:"og:price:amount",content:s.toString()},{property:"og:price:currency",content:"USD"},{name:"twitter:card",content:"product"},{name:"twitter:title",content:i},{name:"twitter:description",content:c},{name:"twitter:image",content:b}],link:[{rel:"canonical",href:`${window.location.origin}/products/${g.product.slug}`}]}}),(i,c)=>null}},Oe={key:0,class:"section-padding"},Qe={key:1,class:"section-padding"},Ke={class:"responsive-container"},Ye={class:"mb-8"},Ge={class:"flex items-center space-x-2 text-sm"},Je={class:"text-background-900 dark:text-white font-medium truncate"},Xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-12"},Ze={class:"space-y-4"},et={class:"bg-white dark:bg-background-800 rounded-2xl overflow-hidden shadow-md aspect-square"},tt=["src","alt"],st={class:"grid grid-cols-5 gap-3"},at=["onClick"],ot=["src","alt"],lt={class:"space-y-6"},rt={class:"flex flex-wrap gap-2"},nt={class:"space-y-3"},it={class:"heading-2"},dt={class:"flex items-center"},ut={class:"flex items-center"},ct={class:"ml-1 text-sm text-background-700 dark:text-background-300"},vt={class:"flex items-baseline space-x-3"},gt={key:0,class:"line-through text-background-500 text-lg"},pt={class:"text-3xl font-bold text-primary-600"},mt={key:1,class:"badge-primary"},bt={class:"text-background-700 dark:text-background-300"},ht={class:"pt-4"},kt={class:"flex items-center space-x-4 mb-4"},ft={class:"flex items-center border border-background-300 dark:border-background-600 rounded-md"},xt=["disabled"],yt=["disabled"],wt=["disabled"],_t=["fill"],$t={class:"border-t border-background-200 dark:border-background-700 pt-6 space-y-3"},Ct={class:"grid grid-cols-2 gap-2"},Lt={class:"mt-16"},Mt={class:"border-b border-background-200 dark:border-background-700 mb-8"},Pt={class:"flex flex-wrap -mb-px"},Tt=["onClick"],St={class:"py-4"},At={key:0,class:"prose prose-lg max-w-none dark:prose-invert"},zt=["innerHTML"],It={key:1,class:"space-y-8"},Ut={class:"flex flex-col md:flex-row md:items-center gap-6 p-6 bg-background-100 dark:bg-background-800 rounded-xl"},Bt={class:"flex flex-col items-center md:w-1/4"},Rt={class:"text-5xl font-bold text-primary-600"},Ft={class:"flex mt-2"},jt={class:"text-sm text-background-600 dark:text-background-400 mt-1"},Dt={class:"md:w-3/4 space-y-2"},Nt={class:"w-1/4 md:w-1/6 flex items-center"},qt={class:"text-sm w-3"},Ht={class:"w-3/4 md:w-5/6"},Et={class:"h-2 bg-background-200 dark:bg-background-700 rounded-full"},Vt={class:"space-y-6"},Wt={key:0,class:"text-center py-10"},Ot={class:"flex justify-between"},Qt={class:"flex items-center"},Kt=["src"],Yt={key:1,class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center text-white"},Gt={class:"ml-3"},Jt={class:"font-medium"},Xt={class:"text-sm text-background-600 dark:text-background-400"},Zt={class:"flex"},es={class:"mt-4"},ts={class:"text-background-800 dark:text-background-200"},ss={key:1,class:"card"},as={class:"flex"},os=["onClick"],ls=["disabled"],rs={key:0},ns={key:1},is={key:2,class:"card text-center"},ds={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},us={key:0,class:"col-span-full text-center py-10"},cs={key:1,class:"col-span-full text-center py-10"},vs={class:"relative mb-4 overflow-hidden rounded-lg aspect-square bg-background-100 dark:bg-background-900"},gs=["src","alt"],ps={key:0,class:"absolute top-2 right-2 badge-primary"},ms={class:"mb-2 font-semibold truncate"},bs={class:"flex items-center space-x-2"},hs={key:0,class:"text-background-500 line-through"},ks={class:"font-semibold text-primary-600"},fs={class:"flex items-center justify-between mt-4"},xs=["onClick"],ys={key:2,class:"section-padding"},ws={class:"responsive-container text-center py-20"},Ms={__name:"[slug]",setup(d){const g=Le(),{$pb:i}=ie(),c=Me(),b=Ae(),s=u(null),v=u([]),P=u([]),h=u(!0),j=u(!0),D=u(!1),N=u(0),k=u(1),T=u(!1),R=u(null),V=u(null),y=u(!1),_=u("success"),$=u(""),C=u(""),F=u("description"),de=[{id:"description",name:"Description"},{id:"reviews",name:"Reviews"},{id:"related",name:"Related Products"}],S=u({rating:5,comment:""}),ue=E(()=>s.value?s.value.gallery&&s.value.gallery.length>N.value?`${i.baseUrl}/api/files/products/${s.value.id}/${s.value.gallery[N.value]}`:`${i.baseUrl}/api/files/products/${s.value.id}/${s.value.image}`:""),ce=E(()=>{if(!s.value)return[];const o=[s.value.image];return s.value.gallery&&Array.isArray(s.value.gallery)&&o.push(...s.value.gallery),o.map(t=>`${i.baseUrl}/api/files/products/${s.value.id}/${t}`)}),U=E(()=>v.value.length?v.value.reduce((t,p)=>t+p.rating,0)/v.value.length:0),W=async()=>{h.value=!0;try{const o=await i.collection("products").getFirstListItem(`slug="${g.params.slug}"`,{expand:"category,tags"});s.value=o,O(),ve(),ge()}catch(o){console.error("Error fetching product:",o),s.value=null}finally{h.value=!1}},O=async()=>{try{const o=await i.collection("reviews").getList(1,50,{filter:`product="${s.value.id}"`,sort:"-created",expand:"user"});if(v.value=o.items,c.isAuthenticated){const t=v.value.find(p=>{var z,M;return((M=(z=p.expand)==null?void 0:z.user)==null?void 0:M.id)===c.currentUser.id});t&&(V.value=t)}}catch(o){console.error("Error fetching reviews:",o),v.value=[]}},ve=async()=>{j.value=!0;try{if(!s.value)return;const o=s.value.expand.category.map(M=>M.id);if(o.length===0){j.value=!1;return}const p=`(${o.map(M=>`category~"${M}"`).join("||")})&&id!="${s.value.id}"`,z=await i.collection("products").getList(1,4,{filter:p,sort:"created"});P.value=z.items}catch(o){console.error("Error fetching related products:",o),P.value=[]}finally{j.value=!1}},ge=async()=>{if(!c.isAuthenticated||!s.value){T.value=!1;return}try{const o=await i.collection("wishlists").getFirstListItem(`user="${c.currentUser.id}"&&product="${s.value.id}"`);T.value=!0,R.value=o}catch{T.value=!1,R.value=null}},pe=async()=>{if(!c.isAuthenticated){_.value="info",C.value="Authentication Required",$.value="Please log in to add items to your wishlist.",y.value=!0,setTimeout(()=>{oe("/login")},1500);return}try{if(T.value)await i.collection("wishlists").delete(R.value.id),T.value=!1,R.value=null,_.value="success",C.value="Removed from Wishlist",$.value=`${s.value.name} has been removed from your wishlist.`,y.value=!0;else{const o={user:c.currentUser.id,product:s.value.id},t=await i.collection("wishlists").create(o);T.value=!0,R.value=t,_.value="success",C.value="Added to Wishlist",$.value=`${s.value.name} has been added to your wishlist.`,y.value=!0}}catch(o){console.error("Error updating wishlist:",o),_.value="error",C.value="Error",$.value="There was an error updating your wishlist. Please try again.",y.value=!0}},me=o=>{const t=v.value.filter(p=>Math.round(p.rating)===o).length;return v.value.length===0?0:Math.round(t/v.value.length*100)},be=async()=>{if(!c.isAuthenticated||!s.value){_.value="info",C.value="Authentication Required",$.value="Please log in to submit a review.",y.value=!0,setTimeout(()=>{oe("/login")},1500);return}D.value=!0;try{const o={user:c.currentUser.id,product:s.value.id,rating:S.value.rating,comment:S.value.comment},t=await i.collection("reviews").create(o);await O(),S.value={rating:5,comment:""},_.value="success",C.value="Review Submitted",$.value="Thank you for your review! It has been published successfully.",y.value=!0}catch(o){console.error("Error submitting review:",o),_.value="error",C.value="Error",$.value="There was an error submitting your review. Please try again.",y.value=!0}finally{D.value=!1}},he=()=>{s.value.stock>0&&k.value<s.value.stock&&k.value++},ke=()=>{k.value>1&&k.value--},fe=()=>{if(!s.value||s.value.stock<=0)return;const o={id:s.value.id,name:s.value.name,slug:s.value.slug,price:s.value.promoPrice||s.value.price,image:s.value.image,quantity:k.value};b.addItem(o),_.value="success",C.value="Added to Cart",$.value=`${k.value} × ${s.value.name} added to your cart.`,y.value=!0,setTimeout(()=>{b.toggleCart()},1e3)},xe=o=>{const t={id:o.id,name:o.name,slug:o.slug,price:o.promoPrice||o.price,image:o.image,quantity:1};b.addItem(t),_.value="success",C.value="Added to Cart",$.value=`${o.name} added to your cart.`,y.value=!0,setTimeout(()=>{b.toggleCart()},1e3)},ye=o=>`${i.baseUrl}/api/files/${o.collectionId}/${o.id}/${o.image}`,we=o=>!o||!o.avatar?null:`${i.baseUrl}/api/files/${o.collectionId}/${o.id}/${o.avatar}`,_e=o=>{const t=new Date(o);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)};return le(()=>g.params.slug,async o=>{o&&await W()}),re(async()=>{await W()}),(o,t)=>{var z,M,Q,K,Y,G;const p=$e;return l(),r(f,null,[h.value?(l(),r("div",Oe,t[3]||(t[3]=[Pe('<div class="responsive-container"><div class="grid place-items-center py-16"><div class="animate-pulse flex flex-col items-center"><div class="w-32 h-32 bg-background-300 dark:bg-background-700 rounded-full mb-6"></div><div class="h-6 bg-background-300 dark:bg-background-700 rounded w-1/2 mb-4"></div><div class="h-4 bg-background-300 dark:bg-background-700 rounded w-1/3 mb-10"></div><div class="h-4 bg-background-300 dark:bg-background-700 rounded w-3/4 mb-2"></div><div class="h-4 bg-background-300 dark:bg-background-700 rounded w-2/3 mb-2"></div><div class="h-4 bg-background-300 dark:bg-background-700 rounded w-1/2 mb-6"></div></div></div></div>',1)]))):s.value?(l(),r("div",Qe,[e("div",Ke,[e("nav",Ye,[e("ol",Ge,[e("li",null,[I(p,{to:"/",class:"text-background-600 hover:text-primary-600 transition-colors"},{default:B(()=>t[4]||(t[4]=[A("Home")])),_:1})]),t[6]||(t[6]=e("li",{class:"text-background-600"},"/",-1)),e("li",null,[I(p,{to:"/products",class:"text-background-600 hover:text-primary-600 transition-colors"},{default:B(()=>t[5]||(t[5]=[A("Products")])),_:1})]),t[7]||(t[7]=e("li",{class:"text-background-600"},"/",-1)),e("li",Je,n(s.value.name),1)])]),e("div",Xe,[e("div",Ze,[e("div",et,[e("img",{src:ue.value,alt:s.value.name,class:"w-full h-full object-contain"},null,8,tt)]),e("div",st,[(l(!0),r(f,null,w(ce.value,(a,L)=>(l(),r("button",{key:L,onClick:q=>N.value=L,class:m(["bg-white dark:bg-background-800 rounded-lg overflow-hidden shadow-sm aspect-square border transition-all",N.value===L?"border-primary-500 ring-2 ring-primary-400/30":"border-background-200 dark:border-background-700"])},[e("img",{src:a,alt:`${s.value.name} - Image ${L+1}`,class:"w-full h-full object-cover"},null,8,ot)],10,at))),128))])]),e("div",lt,[e("div",rt,[(l(!0),r(f,null,w((z=s.value.expand)==null?void 0:z.category,a=>(l(),r("span",{key:a.id,class:"badge-outline-primary"},n(a.name),1))),128)),(l(!0),r(f,null,w((M=s.value.expand)==null?void 0:M.tags,a=>(l(),r("span",{key:a.id,class:"badge bg-background-200 dark:bg-background-800 text-background-700 dark:text-background-300"},n(a.name),1))),128))]),e("div",nt,[e("h1",it,n(s.value.name),1),e("div",dt,[e("div",ut,[(l(),r(f,null,w(5,a=>e("span",{key:a,class:"text-yellow-400 mr-0.5"},[(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",class:m(["h-5 w-5",{"fill-current":a<=U.value,"text-background-300 dark:text-background-600":a>U.value}]),viewBox:"0 0 20 20",fill:"currentColor"},t[8]||(t[8]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))])),64))]),e("span",ct,n(U.value.toFixed(1))+" · "+n(v.value.length)+" reviews ",1)]),e("div",vt,[s.value.promoPrice?(l(),r("span",gt," $"+n(s.value.price.toFixed(2)),1)):x("",!0),e("span",pt," $"+n((s.value.promoPrice||s.value.price).toFixed(2)),1),s.value.promoPrice?(l(),r("span",mt,n(Math.round((1-s.value.promoPrice/s.value.price)*100))+"% OFF ",1)):x("",!0)]),e("div",null,[e("span",{class:m([s.value.stock>0?"text-success-600":"text-error-600","font-medium"])},n(s.value.stock>0?`In Stock (${s.value.stock} available)`:"Out of Stock"),3)])]),e("div",null,[e("p",bt,n(s.value.shortDescription),1)]),e("div",ht,[e("div",kt,[e("div",ft,[e("button",{onClick:ke,class:m(["px-3 py-2 text-lg border-r border-background-300 dark:border-background-600",{"opacity-50 cursor-not-allowed":k.value<=1}]),disabled:k.value<=1}," - ",10,xt),te(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>k.value=a),type:"number",min:"1",class:"w-16 text-center border-none focus:ring-0 focus:outline-none bg-transparent"},null,512),[[se,k.value]]),e("button",{onClick:he,class:m(["px-3 py-2 text-lg border-l border-background-300 dark:border-background-600",{"opacity-50 cursor-not-allowed":s.value.stock>0&&k.value>=s.value.stock}]),disabled:s.value.stock>0&&k.value>=s.value.stock}," + ",10,yt)]),e("button",{onClick:fe,class:m(["btn-primary flex-1",{"opacity-50 cursor-not-allowed":s.value.stock<=0}]),disabled:s.value.stock<=0},t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1),A(" Add to Cart ")]),10,wt),e("button",{onClick:pe,class:m(["btn-ghost aspect-square p-3 rounded-full",{"text-error-500":T.value}])},[(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:T.value?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),8,_t))],2)])]),e("div",$t,[e("div",Ct,[t[11]||(t[11]=e("div",{class:"text-background-600 dark:text-background-400"},"SKU",-1)),e("div",null,n(s.value.id),1),t[12]||(t[12]=e("div",{class:"text-background-600 dark:text-background-400"},"Categories",-1)),e("div",null,n((K=(Q=s.value.expand)==null?void 0:Q.category)==null?void 0:K.map(a=>a.name).join(", ")),1),t[13]||(t[13]=e("div",{class:"text-background-600 dark:text-background-400"},"Tags",-1)),e("div",null,n((G=(Y=s.value.expand)==null?void 0:Y.tags)==null?void 0:G.map(a=>a.name).join(", ")),1)])])])]),e("div",Lt,[e("div",Mt,[e("div",Pt,[(l(),r(f,null,w(de,a=>e("button",{key:a.id,onClick:L=>F.value=a.id,class:m(["py-3 px-4 font-medium border-b-2 transition-colors",F.value===a.id?"border-primary-500 text-primary-600":"border-transparent text-background-600 hover:text-background-900 dark:text-background-400 dark:hover:text-white"])},n(a.name),11,Tt)),64))])]),e("div",St,[F.value==="description"?(l(),r("div",At,[e("div",{innerHTML:s.value.longDescription},null,8,zt)])):F.value==="reviews"?(l(),r("div",It,[e("div",Ut,[e("div",Bt,[e("div",Rt,n(U.value.toFixed(1)),1),e("div",Ft,[(l(),r(f,null,w(5,a=>e("span",{key:a,class:"text-yellow-400"},[(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",class:m(["h-5 w-5",{"fill-current":a<=U.value,"text-background-300 dark:text-background-600":a>U.value}]),viewBox:"0 0 20 20",fill:"currentColor"},t[14]||(t[14]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))])),64))]),e("div",jt,n(v.value.length)+" reviews",1)]),e("div",Dt,[(l(),r(f,null,w(5,a=>e("div",{key:a,class:"flex items-center"},[e("div",Nt,[e("span",qt,n(6-a),1),t[15]||(t[15]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-yellow-400 ml-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1))]),e("div",Ht,[e("div",Et,[e("div",{class:"h-2 bg-primary-500 rounded-full",style:Se({width:`${me(6-a)}%`})},null,4)])])])),64))])]),e("div",Vt,[v.value.length===0?(l(),r("div",Wt,t[16]||(t[16]=[e("p",{class:"text-background-600 dark:text-background-400"},"No reviews yet. Be the first to review this product!",-1)]))):x("",!0),(l(!0),r(f,null,w(v.value,a=>{var L,q,J,X,Z,ee;return l(),r("div",{key:a.id,class:"card"},[e("div",Ot,[e("div",Qt,[(q=(L=a.expand)==null?void 0:L.user)!=null&&q.avatar?(l(),r("img",{key:0,src:we(a.expand.user),alt:"Avatar",class:"h-10 w-10 rounded-full bg-background-300 dark:bg-background-700"},null,8,Kt)):(l(),r("div",Yt,n((X=(J=a.expand)==null?void 0:J.user)!=null&&X.name?a.expand.user.name.charAt(0).toUpperCase():"U"),1)),e("div",Gt,[e("p",Jt,n(((ee=(Z=a.expand)==null?void 0:Z.user)==null?void 0:ee.name)||"User"),1),e("p",Xt,n(_e(a.created)),1)])]),e("div",Zt,[(l(),r(f,null,w(5,H=>e("span",{key:H,class:"text-yellow-400"},[(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",class:m(["h-5 w-5",{"fill-current":H<=a.rating,"text-background-300 dark:text-background-600":H>a.rating}]),viewBox:"0 0 20 20",fill:"currentColor"},t[17]||(t[17]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))])),64))])]),e("div",es,[e("p",ts,n(a.comment),1)])])}),128)),ae(c).isAuthenticated&&!V.value?(l(),r("div",ss,[t[21]||(t[21]=e("h3",{class:"text-xl font-semibold mb-4"},"Write a Review",-1)),e("form",{onSubmit:Te(be,["prevent"]),class:"space-y-4"},[e("div",null,[t[19]||(t[19]=e("label",{class:"input-label"},"Rating",-1)),e("div",as,[(l(),r(f,null,w(5,a=>e("button",{key:a,type:"button",onClick:L=>S.value.rating=a,class:"text-yellow-400 focus:outline-none"},[(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",class:m(["h-8 w-8",{"fill-current":a<=S.value.rating,"text-background-300 dark:text-background-600":a>S.value.rating}]),viewBox:"0 0 20 20",fill:"currentColor"},t[18]||(t[18]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2))],8,os)),64))])]),e("div",null,[t[20]||(t[20]=e("label",{for:"comment",class:"input-label"},"Your Review",-1)),te(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>S.value.comment=a),id:"comment",rows:"4",class:"input-primary",placeholder:"Share your thoughts on this product...",required:""},null,512),[[se,S.value.comment]])]),e("div",null,[e("button",{type:"submit",class:"btn-primary",disabled:D.value},[D.value?(l(),r("span",rs,"Submitting...")):(l(),r("span",ns,"Submit Review"))],8,ls)])],32)])):ae(c).isAuthenticated?x("",!0):(l(),r("div",is,[t[23]||(t[23]=e("p",{class:"mb-4"},"Please log in to leave a review.",-1)),I(p,{to:"/login",class:"btn-primary"},{default:B(()=>t[22]||(t[22]=[A("Login")])),_:1})]))])])):F.value==="related"?(l(),r("div",ds,[j.value?(l(),r("div",us,t[24]||(t[24]=[e("p",{class:"text-background-600 dark:text-background-400"},"Loading related products...",-1)]))):P.value.length===0?(l(),r("div",cs,t[25]||(t[25]=[e("p",{class:"text-background-600 dark:text-background-400"},"No related products found.",-1)]))):x("",!0),(l(!0),r(f,null,w(P.value,a=>(l(),r("div",{key:a.id,class:"card-fancy group"},[e("div",vs,[e("img",{src:ye(a),alt:a.name,class:"object-contain w-full h-full transition-transform duration-300 group-hover:scale-105"},null,8,gs),a.promoPrice?(l(),r("span",ps,n(Math.round((1-a.promoPrice/a.price)*100))+"% OFF ",1)):x("",!0)]),e("div",null,[e("h3",ms,[I(p,{to:`/products/${a.slug}`,class:"hover:text-primary-600 transition-colors"},{default:B(()=>[A(n(a.name),1)]),_:2},1032,["to"])]),e("div",bs,[a.promoPrice?(l(),r("span",hs," $"+n(a.price.toFixed(2)),1)):x("",!0),e("span",ks," $"+n((a.promoPrice||a.price).toFixed(2)),1)]),e("div",fs,[e("button",{onClick:L=>xe(a),class:"btn-icon-text btn-sm btn-primary"},t[26]||(t[26]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1),A(" Add ")]),8,xs),I(p,{to:`/products/${a.slug}`,class:"btn-icon-text btn-sm btn-ghost"},{default:B(()=>t[27]||(t[27]=[A(" View ")])),_:2},1032,["to"])])])]))),128))])):x("",!0)])])])])):(l(),r("div",ys,[e("div",ws,[t[29]||(t[29]=e("h2",{class:"heading-3 mb-4"},"Product Not Found",-1)),t[30]||(t[30]=e("p",{class:"text-background-600 dark:text-background-400 mb-8"}," Sorry, we couldn't find the product you're looking for. ",-1)),I(p,{to:"/products",class:"btn-primary"},{default:B(()=>t[28]||(t[28]=[A(" Browse All Products ")])),_:1})])])),I(Ve,{show:y.value,type:_.value,message:$.value,title:C.value,onClose:t[2]||(t[2]=a=>y.value=!1)},null,8,["show","type","message","title"]),s.value?(l(),ne(We,{key:3,product:s.value},null,8,["product"])):x("",!0)],64)}}};export{Ms as default};
