import{_ as C}from"./CYKZh6Wd.js";import{r as i,e as _,u as P,g as V,c as p,a as t,m as N,k as v,n as g,v as y,p as b,t as x,d as u,b as A,w as B,o as c,s as S}from"./DzVV_QxS.js";const U={class:"responsive-container section-padding flex justify-center items-center min-h-screen bg-background-100 dark:bg-background-900"},D={class:"card-fancy w-full max-w-md animate-fade-in"},E={class:"input-group"},L={class:"input-group"},T={class:"input-group"},q={key:0,class:"input-error-text"},z={key:0,class:"input-error-text p-3 bg-error-50 dark:bg-error-950/50 rounded-lg"},M=["disabled"],R={key:0,class:"mr-2"},j={class:"text-center mt-6 body-small"},W={__name:"register",setup(F){const d=i(""),s=i(""),a=i(""),r=i(""),o=i(!1),w=_(),{$pb:f}=P(),h=V(()=>s.value.length>=8&&s.value===a.value),k=async()=>{if(r.value="",s.value!==a.value){r.value="Passwords do not match";return}o.value=!0;try{const l={email:d.value,password:s.value,passwordConfirm:a.value},e=await f.collection("users").create(l),m=await f.collection("users").authWithPassword(d.value,s.value);w.setUser(m.record),w.setLoggedIn(!0),S("/")}catch(l){console.error("Registration error:",l),r.value=l.message||"Failed to register. Please try again."}finally{o.value=!1}};return(l,e)=>{const m=C;return c(),p("div",U,[t("div",D,[e[10]||(e[10]=t("h1",{class:"heading-3 text-center mb-8 text-black"},"Create Account",-1)),t("form",{onSubmit:N(k,["prevent"]),class:"space-y-6"},[t("div",null,[e[3]||(e[3]=t("label",{for:"email",class:"input-label"},"Email",-1)),t("div",E,[g(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=n=>d.value=n),type:"email",required:"",placeholder:"Enter your email",class:"input-fancy"},null,512),[[y,d.value]])])]),t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"input-label"},"Password",-1)),t("div",L,[g(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>s.value=n),type:"password",required:"",placeholder:"Enter your password",minlength:"8",class:b(["input-fancy",{"input-error":s.value.length>0&&s.value.length<8}])},null,2),[[y,s.value]])]),e[5]||(e[5]=t("p",{class:"input-help"},"Password must be at least 8 characters",-1))]),t("div",null,[e[6]||(e[6]=t("label",{for:"passwordConfirm",class:"input-label"},"Confirm Password",-1)),t("div",T,[g(t("input",{id:"passwordConfirm","onUpdate:modelValue":e[2]||(e[2]=n=>a.value=n),type:"password",required:"",placeholder:"Confirm your password",class:b(["input-fancy",{"input-error":a.value.length>0&&s.value!==a.value}])},null,2),[[y,a.value]])]),a.value.length>0&&s.value!==a.value?(c(),p("p",q," Passwords do not match ")):v("",!0)]),r.value?(c(),p("div",z,x(r.value),1)):v("",!0),t("button",{type:"submit",disabled:o.value||!h.value,class:"btn-primary w-full"},[o.value?(c(),p("span",R,e[7]||(e[7]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):v("",!0),u(" "+x(o.value?"Creating account...":"Register"),1)],8,M)],32),t("p",j,[e[9]||(e[9]=u(" Already have an account? ")),A(m,{to:"/login",class:"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200"},{default:B(()=>e[8]||(e[8]=[u("Login")])),_:1})]),e[11]||(e[11]=t("div",{class:"mt-6 p-4 rounded-lg bg-background-200 dark:bg-background-800/50 text-center"},[t("p",{class:"body-small text-background-700 dark:text-background-300"},[u(" By registering, you agree to our "),t("a",{href:"#",class:"text-primary-600 hover:text-primary-700"},"Terms of Service"),u(" and "),t("a",{href:"#",class:"text-primary-600 hover:text-primary-700"},"Privacy Policy")])],-1))])])}}};export{W as default};
